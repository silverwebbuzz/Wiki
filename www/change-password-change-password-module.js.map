{"version":3,"sources":["webpack:///./src/app/change-password/change-password.module.ts","webpack:///./src/app/change-password/change-password.page.html","webpack:///./src/app/change-password/change-password.page.scss","webpack:///./src/app/change-password/change-password.page.ts"],"names":[],"mappings":"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","file":"change-password-change-password-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"back()\\\">\\r\\n        <ion-icon name=\\\"arrow-back\\\" mode=\\\"ios\\\" color=\\\"dark\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Change Password</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-label class=\\\"lbl-head\\\">Create a new password</ion-label>\\r\\n\\r\\n  <ion-label class=\\\"lbl-sub\\\">Passwords are case-sensitive and must be at least 8 characters.</ion-label>\\r\\n\\r\\n    <form [formGroup]=\\\"change_form\\\" autocomplete=\\\"off\\\">\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"floating\\\" class=\\\"input-label\\\">\\r\\n          Type your current password\\r\\n        </ion-label>\\r\\n        <ion-input type=\\\"password\\\" formControlName=\\\"oldpassword\\\" class=\\\"input-box\\\"></ion-input>\\r\\n      </ion-item>\\r\\n  \\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.controls.oldpassword.hasError('required') && change_form.controls.oldpassword.touched\\\">\\r\\n        <p class=\\\"content\\\">Please Enter Current Password!</p>\\r\\n      </ion-item>\\r\\n\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"floating\\\" class=\\\"input-label\\\">\\r\\n          Type your new password\\r\\n        </ion-label>\\r\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"input-box\\\"></ion-input>\\r\\n      </ion-item>\\r\\n  \\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.controls.password.hasError('required') && change_form.controls.password.touched\\\">\\r\\n        <p class=\\\"content\\\">Please Enter New Password!</p>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.controls.password.hasError('minlength') && change_form.controls.password.touched\\\">\\r\\n        <p class=\\\"content\\\">The password needs at least 8 characters.</p>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.controls.password.hasError('pattern') && change_form.controls.password.touched\\\">\\r\\n        <p class=\\\"content\\\">Please Enter One Upper Case and One Lower Case, One Spacial Characters and One Number</p>\\r\\n      </ion-item>\\r\\n  \\r\\n      <ion-item lines=\\\"none\\\" class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"floating\\\" class=\\\"input-label\\\">\\r\\n          Retype your new password\\r\\n        </ion-label>\\r\\n        <ion-input type=\\\"password\\\" formControlName=\\\"confirmpassword\\\" class=\\\"input-box\\\"></ion-input>\\r\\n      </ion-item>\\r\\n  \\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.controls.confirmpassword.hasError('required') && change_form.controls.confirmpassword.touched\\\">\\r\\n        <p class=\\\"content\\\">Please Enter Confirm Password!</p>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding lines=\\\"none\\\" class=\\\"validator-error\\\"\\r\\n        *ngIf=\\\"change_form.get('confirmpassword').errors && change_form.get('confirmpassword').errors.confirmpassword\\\">\\r\\n        <p class=\\\"content\\\">Passwords must match!</p>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-button expand=\\\"full\\\" size=\\\"large\\\" color=\\\"dark\\\" class=\\\"btn-save\\\" (click)=\\\"submit()\\\">SAVE</ion-button>\\r\\n\\r\\n      </form>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \".input-container {\\n  --padding-start: 8px; }\\n  .input-container .input-label {\\n    padding-left: 8px; }\\n  .input-container .input-box {\\n    border: 1px solid #000;\\n    --padding-start: 8px; }\\n  .btn-save {\\n  margin: 50px 8px; }\\n  .lbl-head {\\n  display: block;\\n  font-size: 18px;\\n  font-weight: bold;\\n  padding: 20px 8px; }\\n  .lbl-sub {\\n  display: block;\\n  font-size: 14px;\\n  padding: 10px 8px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhbmdlLXBhc3N3b3JkL0M6XFxpb25pYyBwcm9qZWN0XFx3aWtpL3NyY1xcYXBwXFxjaGFuZ2UtcGFzc3dvcmRcXGNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBZ0IsRUFBQTtFQURwQjtJQUlRLGlCQUFpQixFQUFBO0VBSnpCO0lBUVEsc0JBQXNCO0lBQ3RCLG9CQUFnQixFQUFBO0VBR3hCO0VBQ0ksZ0JBQWdCLEVBQUE7RUFHcEI7RUFDSSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixpQkFBaUIsRUFBQTtFQUVyQjtFQUNJLGNBQWM7RUFDZCxlQUFlO0VBQ2YsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jaGFuZ2UtcGFzc3dvcmQvY2hhbmdlLXBhc3N3b3JkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnB1dC1jb250YWluZXJ7XHJcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDhweDtcclxuXHJcbiAgICAuaW5wdXQtbGFiZWx7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmlucHV0LWJveHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xyXG4gICAgICAgIC0tcGFkZGluZy1zdGFydDogOHB4O1xyXG4gICAgfVxyXG59XHJcbi5idG4tc2F2ZXtcclxuICAgIG1hcmdpbjogNTBweCA4cHg7XHJcbn1cclxuXHJcbi5sYmwtaGVhZHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBwYWRkaW5nOiAyMHB4IDhweDtcclxufVxyXG4ubGJsLXN1YntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgcGFkZGluZzogMTBweCA4cHg7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\r\nimport { ConfirmPasswordValidator } from '../_helper/must-match.validator';\r\nimport { CommonService } from '../services/common.service';\r\nimport { ApiService } from '../services/api.service';\r\nimport { Constants } from '../interface/constants.models';\r\n\r\n@Component({\r\n  selector: 'app-change-password',\r\n  templateUrl: './change-password.page.html',\r\n  styleUrls: ['./change-password.page.scss'],\r\n})\r\nexport class ChangePasswordPage implements OnInit {\r\n\r\n  change_form: FormGroup;\r\n\r\n  constructor(private navCtrl: NavController,\r\n    private statusBar: StatusBar,\r\n    private common:CommonService,\r\n    private service:ApiService,\r\n    private formBuilder: FormBuilder) {\r\n      this.registration_fb();\r\n     }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  registration_fb() {\r\n    this.change_form = this.formBuilder.group({\r\n      oldpassword: [null, Validators.required],\r\n      password: [null, Validators.compose([\r\n        Validators.required,\r\n        Validators.minLength(8)\r\n      ])],\r\n      confirmpassword: [null, Validators.required]\r\n    },{validator: ConfirmPasswordValidator.MatchPassword});\r\n  };\r\n\r\n  ionViewWillEnter() {\r\n    this.statusBar.styleDefault();\r\n    this.statusBar.backgroundColorByHexString('#f1f1f1');\r\n  }\r\n\r\n  back(){\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  submit(){\r\n    let userInfo = JSON.parse(window.localStorage.getItem(Constants.USER_DETAILS));\r\n    for (let v in this.change_form.controls) {\r\n      this.change_form.controls[v].markAsTouched();\r\n    }\r\n    if (this.change_form.valid) {\r\n      this.common.presentLoading();\r\n      const body = {\r\n          \"curr_password\" : this.change_form.value.oldpassword,\r\n          \"new_password\" : this.change_form.value.password,\r\n          \"userid\" : userInfo.id\r\n      };\r\n\r\n      this.service.updateProfilePassword(body).subscribe(val=>{\r\n        if(this.common.isLoading){\r\n          this.common.dismissLoading();\r\n        }\r\n        if(val.status){\r\n          this.change_form.reset();\r\n          this.common.presentToastWithOptions(val.message);\r\n        \r\n        }else{\r\n          // if(val.fieldname == \"username\"){\r\n          //   this.registration_form.controls['username'].setErrors({'incorrect': true});\r\n          //   this.registration_form.controls['username'].markAsTouched();\r\n          // }else if(val.fieldname == \"email\"){\r\n          //   this.registration_form.controls['email'].setErrors({'incorrect': true});\r\n          //   this.registration_form.controls['email'].markAsTouched();\r\n          // }else{\r\n          //   this.registration_form.controls['username'].setErrors({'incorrect': true});\r\n          //   this.registration_form.controls['username'].markAsTouched();\r\n          //   this.registration_form.controls['email'].setErrors({'incorrect': true});\r\n          //   this.registration_form.controls['email'].markAsTouched();\r\n          // }\r\n          this.common.presentToastWithOptions(val.message);\r\n        }\r\n      },(err)=>{\r\n        if(this.common.isLoading){\r\n          this.common.dismissLoading();\r\n        }\r\n        console.log('Registration Err:', err);\r\n        this.common.presentToastWithOptions('Server Problem, Please try again.');\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}