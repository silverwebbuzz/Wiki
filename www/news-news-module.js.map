{"version":3,"sources":["webpack:///./src/app/news/news.module.ts","webpack:///./src/app/news/news.page.html","webpack:///./src/app/news/news.page.scss","webpack:///./src/app/news/news.page.ts"],"names":[],"mappings":"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","file":"news-news-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewsPage } from './news.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [NewsPage]\r\n})\r\nexport class NewsPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"back()\\\">\\r\\n            <ion-icon name=\\\"arrow-back\\\" mode=\\\"ios\\\" color=\\\"dark\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-buttons>\\r\\n    <ion-title>news</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ng-container *ngIf=\\\"isLoaded; else elseTemplate\\\">\\r\\n        <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshNews($event)\\\">\\r\\n          <ion-refresher-content pulling-icon=\\\"arrow-dropdown\\\" pulling-text=\\\"Pull to refresh\\\" refreshing-spinner=\\\"circles\\\"\\r\\n            refreshing-text=\\\"Refreshing...\\\">\\r\\n          </ion-refresher-content>\\r\\n        </ion-refresher>\\r\\n        <ion-card *ngFor=\\\"let news of allNews\\\" class=\\\"card_news\\\" (click)=\\\"gotoNewDetails(news)\\\" routerLink=\\\"/newsdetails\\\">\\r\\n          <img [src]=\\\"getNewsImg(news)\\\" class=\\\"img_news\\\">\\r\\n          <ion-card-header class=\\\"card_header\\\">\\r\\n            <ion-card-subtitle class=\\\"card_subtitle\\\" role=\\\"heading\\\" aria-level=\\\"3\\\">By {{news.add_by_fname}}\\r\\n              {{news.add_by_lname}}, {{news.add_date | date}}</ion-card-subtitle>\\r\\n            <ion-card-title class=\\\"card_title\\\" role=\\\"heading\\\" aria-level=\\\"2\\\">{{news.title | titlecase}}</ion-card-title>\\r\\n          </ion-card-header>\\r\\n          <ion-card-content class=\\\"card_content\\\" [innerHTML]=\\\"news.sort_description\\\"></ion-card-content>\\r\\n        </ion-card>\\r\\n      </ng-container>\\r\\n      <ng-template #elseTemplate>\\r\\n        <ion-spinner name=\\\"crescent\\\"></ion-spinner>\\r\\n      </ng-template>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-spinner {\\n  margin: 0 auto;\\n  display: block;\\n  top: 40%; }\\n\\n.card_news {\\n  margin: 5px;\\n  border-radius: 0px;\\n  box-shadow: 0px 0px 0px 0px;\\n  background: #fff; }\\n\\n.card_news .img_news {\\n    height: 200px;\\n    width: 100%;\\n    -o-object-fit: cover;\\n       object-fit: cover;\\n    padding: 0px; }\\n\\n.card_news .card_header {\\n    padding: 10px 10px 5px 10px; }\\n\\n.card_news .card_header .card_subtitle {\\n      color: #666; }\\n\\n.card_news .card_header .card_title {\\n      font-size: 20px; }\\n\\n.card_news .card_content {\\n    padding: 0px 10px 10px 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV3cy9DOlxcaW9uaWMgcHJvamVjdFxcd2lraS9zcmNcXGFwcFxcbmV3c1xcbmV3cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFjO0VBQ2QsY0FBYztFQUNkLFFBQVEsRUFBQTs7QUFHWjtFQUNJLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsMkJBQTJCO0VBQzNCLGdCQUFnQixFQUFBOztBQUpwQjtJQU9RLGFBQWE7SUFDYixXQUFXO0lBQ1gsb0JBQWlCO09BQWpCLGlCQUFpQjtJQUNqQixZQUFZLEVBQUE7O0FBVnBCO0lBYVEsMkJBQTJCLEVBQUE7O0FBYm5DO01BZ0JZLFdBQVcsRUFBQTs7QUFoQnZCO01BbUJZLGVBQWUsRUFBQTs7QUFuQjNCO0lBdUJRLDJCQUEyQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbmV3cy9uZXdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1zcGlubmVye1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHRvcDogNDAlO1xyXG59XHJcblxyXG4uY2FyZF9uZXdze1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG5cclxuICAgIC5pbWdfbmV3c3tcclxuICAgICAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgICAgIHBhZGRpbmc6IDBweDtcclxuICAgIH1cclxuICAgIC5jYXJkX2hlYWRlcntcclxuICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggNXB4IDEwcHg7XHJcblxyXG4gICAgICAgIC5jYXJkX3N1YnRpdGxle1xyXG4gICAgICAgICAgICBjb2xvcjogIzY2NjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmNhcmRfdGl0bGV7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAuY2FyZF9jb250ZW50e1xyXG4gICAgICAgIHBhZGRpbmc6IDBweCAxMHB4IDEwcHggMTBweDtcclxuICAgIH1cclxufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ApiService } from '../services/api.service';\r\nimport { CommonService } from '../services/common.service';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\r\nimport { Constants } from '../interface/constants.models';\r\nimport { APP_CONFIG, AppConfig } from '../app.config';\r\nimport { NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-news',\r\n  templateUrl: './news.page.html',\r\n  styleUrls: ['./news.page.scss'],\r\n})\r\nexport class NewsPage implements OnInit {\r\n\r\n  isLoaded= false;\r\n  allNews = [];\r\n  constructor(@Inject(APP_CONFIG) private config:AppConfig,\r\n    private service:ApiService,\r\n    private common: CommonService,\r\n    private auth: AuthenticationService,\r\n    private router: Router,\r\n    private navCtrl: NavController,\r\n    private sanitizer: DomSanitizer,\r\n    private statusBar: StatusBar) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getNews(event?){\r\n    this.service.getNews().subscribe(val =>{\r\n      this.isLoaded = true;\r\n          if(val.status){\r\n            this.allNews = val.news_list;\r\n            window.localStorage.setItem(Constants.ALL_NEWS, JSON.stringify(this.allNews));\r\n          }else{\r\n            //this.common.presentToastWithOptions(val.message);\r\n          }\r\n          if(event){\r\n            event.target.complete();\r\n          }\r\n    },(err)=>{\r\n      this.isLoaded = false;\r\n      if(event){\r\n        event.target.complete();\r\n      }\r\n      if(this.common.isLoading){\r\n        this.common.dismissLoading();\r\n      }\r\n      this.common.presentToastWithOptions('Server Problem, Please try again.');\r\n      console.log('Upload Err:',err);\r\n    });\r\n    \r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getNews();\r\n    this.statusBar.styleDefault();\r\n    this.statusBar.backgroundColorByHexString('#f1f1f1');\r\n  }\r\n\r\n  gotoNewDetails(news){\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        news: JSON.stringify(news)\r\n      }\r\n    };\r\n    this.router.navigate(['/newsdetails'], navigationExtras);\r\n  }\r\n\r\n  getNewsImg(news){\r\n    //console.log('news:',news);\r\n    var img_url;\r\n    if(news.image){\r\n      let img = news.image;\r\n      let imgArray = img.split(',');\r\n      img_url = this.config.newsURL + imgArray[0];\r\n    }else{\r\n      img_url = '../../assets/img/no-img.png';\r\n    }\r\n    const sanitizedContent = this.sanitizer.bypassSecurityTrustUrl(img_url);\r\n    return sanitizedContent;\r\n  }\r\n\r\n  refreshNews(event){\r\n    this.getNews(event);\r\n  }\r\n\r\n  back(){\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}